# Часть 5. Глобальные компьютерные сети

---

## 1. Какие из перечисленных услуг относятся к информационным (выберите вариант ответа): </br> а) выделенные каналы OTN; </br> б) интернет-телефония; </br> в) веб-хостинг.

Ответ б), в)

* **Интернет‑телефония (б)** — информационная услуга, поскольку передаёт данные (голос в цифровом виде) через сеть, задействуя
информационные технологии для коммуникации. Суть услуги — обмен информацией между пользователями.
* **Веб‑хостинг (в)** — явно информационная услуга: она предоставляет ресурсы для размещения и публикации контента (сайтов, данных)
в сети, делая его доступным пользователям.

**Почему не а) выделенные каналы OTN?**
Выделенные каналы OTN (Optical Transport Network) — это **транспортная инфраструктура**, а не информационная услуга. Они
обеспечивают физическую передачу данных (создают «трубу» для трафика), но не предоставляют конечных сервисов для работы с
информацией. Их задача — надёжная и высокоскоростная транспортировка любых данных, а не обработка или предоставление контента
пользователю.

---

## 2. К какому типу сети оператора связи должен быть подключён центр данных, управляющий роботами в реальном масштабе времени (выберите вариант ответа): </br> а) к магистрали; </br> б) к сети доступа.

Ответ б)

Центр данных, управляющий роботами в реальном времени, требует **минимальной задержки (low latency)** и стабильного соединения.
Сеть доступа напрямую связывает конечные устройства (в данном случае — роботов) с ближайшей инфраструктурой оператора, что позволяет:
* сократить число промежуточных узлов и длину маршрута передачи данных;
* обеспечить максимально быстрый обмен командами и обратной связью;
* поддерживать жёсткие требования к времени реакции (критично для управления в реальном масштабе времени).

**Почему не а) магистраль?**

Магистральная сеть (магистраль) предназначена для **транспортировки больших объёмов трафика между крупными узлами** (регионами,
городами, провайдерами). Её особенности:
* большая протяжённость линий;
* высокая нагрузка и потенциальная перегрузка;
* увеличенная задержка из‑за маршрутизации через множество узлов.

Эти факторы делают магистраль неподходящей для задач с жёсткими временными ограничениями — она служит «опорной сетью»,
а не каналом прямого взаимодействия с устройствами.

---

## 3. В чём разница между технологиями «IP поверх OTN» и «IP поверх DWDM»?

Кратко: разница в **уровне и функциональности** транспортной инфраструктуры, поверх которой передаётся IP‑трафик.

**1. IP поверх DWDM**
* **DWDM** (Dense Wavelength Division Multiplexing, плотное спектральное уплотнение каналов) — технология **физического уровня**.
Позволяет передавать несколько оптических сигналов по одному волокну, используя разные длины волн (каждая — отдельный канал).
* В схеме «IP поверх DWDM» IP‑пакеты напрямую инкапсулируются в оптический сигнал (часто через интерфейс типа Ethernet или SDH/SONET).
* **Что даёт:** высокая пропускная способность и дальность передачи.
* **Чего нет:** встроенных механизмов защиты от ошибок на транспортном уровне, сложной оперативной коммутации и управления
трафиком — эти задачи возлагаются на IP‑уровень или смежные технологии.

**2. IP поверх OTN**
* **OTN** (Optical Transport Network, оптическая транспортная сеть) — это **надстройка над DWDM**, стандартизированный 
«контейнерный» уровень передачи данных.
* OTN добавляет:
    * **структурирование** трафика: данные упаковываются в стандартные «контейнеры» (ODU — Optical Channel Data Unit), 
  что упрощает мультиплексирование разных сервисов;
    * **контроль ошибок** (FEC — Forward Error Correction), повышающий надёжность передачи;
    * **функции мониторинга и управления** (например, отслеживание качества сигнала, диагностика);
    * **гибкую коммутацию и маршрутизацию** контейнеров ODU на транспортном уровне.
* В схеме «IP поверх OTN» IP‑трафик сначала помещается в OTN‑контейнеры, а уже затем передаётся по оптической сети (часто — поверх DWDM).

**Сводная таблица различий**

| Параметр | IP поверх DWDM | IP поверх OTN |
|--------|--------------|-------------|
| **Уровень** | Физический (L1) | Канальный/транспортный (между L1 и L2) |
| **Структура** | Простая передача оптических несущих | Иерархия контейнеров (OTU/ODU/OPU) |
| **Надёжность** | Зависит от IP‑уровня | Встроенное исправление ошибок (FEC) |
| **Управление** | Минимальное | Расширенное (мониторинг, диагностика) |
| **Мультисервисность** | Требует дополнительных решений | Встроена (поддержка TDM, Ethernet, IP и др.) |
| **Гибкость** | Низкая (фиксированные каналы) | Высокая (динамическое выделение ресурсов) |

**Простыми словами:**
* **«IP поверх DWDM»** — как прямая дорога: быстро и далеко, но без разметки, светофоров и защиты от аварий.
* **«IP поверх OTN»** — как автомагистраль с разметкой, развязками, камерами и службой спасения: чуть сложнее, но надёжнее
и удобнее для управления разными видами трафика.

---

## 4. Назовите преимущества и недостатки техники виртуальных каналов.

**Преимущества:**
1. **Гарантированная пропускная способность.** Перед передачей данных устанавливается виртуальный канал с фиксированными
параметрами (включая полосу пропускания), что важно для трафика реального времени (голос, видео).
2. **Предсказуемая задержка.** Все пакеты следуют по одному маршруту — это минимизирует вариацию задержки (джиттер), критичную
для мультимедийных приложений.
3. **Упрощённая обработка пакетов.** На промежуточных узлах не требуется полная маршрутизация для каждого пакета: достаточно
обработать метку/идентификатор виртуального канала. Это снижает нагрузку на оборудование и ускоряет коммутацию.
4. **Контроль качества обслуживания (QoS).** Легко обеспечить требуемый уровень QoS для всего потока данных, идущего через
виртуальный канал.
5. **Повышенная надёжность.** При установлении соединения можно заранее проверить доступность ресурсов и работоспособность
маршрута.

**Недостатки:**
1. **Накладные расходы на установку/разрыв соединения.** Перед передачей данных нужно установить виртуальный канал (например,
через обмен сигнальными сообщениями), а после — корректно закрыть. Это добавляет задержки и нагрузку на сеть для коротких сессий.
2. **Неэффективное использование ресурсов при пульсирующем трафике.** Выделенная полоса пропускания резервируется на всё
время существования канала, даже если трафик передаётся эпизодически. Ресурсы простаивают впустую.
3. **Ограниченная гибкость маршрутизации.** Все пакеты потока идут строго по одному маршруту. Если на нём возникает перегрузка
или отказ, динамически переключиться на другой маршрут без разрыва канала сложно.
4. **Сложность масштабирования.** При большом числе одновременных соединений (миллионы) поддержание состояния каждого
виртуального канала (таблицы коммутации, учёт ресурсов) создаёт значительную нагрузку на узлы сети.
5. **Зависимость от технологии.** Реализация и управление виртуальными каналами зависят от конкретной технологии (ATM, Frame Relay, MPLS),
что может усложнить интеграцию и управление разнородной сетью.

**Краткий итог:** виртуальные каналы идеальны для приложений с жёсткими требованиями к задержкам и полосе пропускания 
(телефония, видеоконференции), но менее эффективны для коротких и нерегулярных передач данных (веб‑сёрфинг, короткие запросы
в интернете), где важнее простота и гибкость.

---

## 5. Какой период усреднения скорости оговорён в SLA, если CIR = 500 Мбит/с и Bc = 15 Мбайт?

Ответ 240 мс

Период усреднения (Tc) рассчитывается по формуле:

Tc = Bc/CIR

Где:
* Tc — период усреднения (в секундах);
* Bc — объём коммиттированного трафика (committed burst size) — количество данных, которое гарантированно передаётся с 
гарантированной скоростью в течение периода усреднения (в битах);
* CIR (Committed Information Rate) — гарантированная информационная скорость (в бит/с).

**Пошаговый расчёт:**
1. Приводим единицы измерения к единой системе (биты и биты в секунду):
    * Bc = 15 Мбайт = 15 * 8 Мбит = 120 Мбит = 120 * 10^6 бит;
    * CIR = 500 Мбит/с = 500 * 10^6 бит/с.

2. Подставляем значения в формулу:

   Tc = (120 * 10^6 бит) / (500 * 10^6 бит/с) = (120 / 500) с = 0,24 с = 240 мс

**Что это значит на практике:**
* В течение каждого интервала в 240 мс сеть обязуется передать не менее 15 Мбайт данных со скоростью не ниже 500 Мбит/с.
* Если трафик в какой‑то период Tc не превышает Bc, он гарантированно доставляется без потерь.
* Превышение Bc в рамках периода усреднения может привести к маркировке пакетов как «негарантированных» или их отбрасыванию
при перегрузках — это зависит от условий SLA.

**Краткий итог:** период усреднения Tc = 240 мс задаёт временной интервал, в котором контролируется соблюдение гарантированной
скорости (CIR) на основе объёма коммиттированного трафика (Bc).

---

## 6. Чему равна задержка пакетизации для кадров Ethernet с размером поля данных 9000 байт (Jumbo frames)?

Задержка пакетизации — это время, необходимое для заполнения буфера кадра данными до его отправки. Она рассчитывается по формуле:

Tпак = L / R

Где:
* Tпак — задержка пакетизации (в секундах);
* L — общий размер кадра в битах;
* R — скорость передачи (пропускная способность канала) в бит/с.

**Шаг 1. Определяем общий размер кадра Ethernet**

Jumbo Frame с полем данных 9000 байт включает:
* преамбула: 8 байт;
* заголовок (MAC‑адреса и тип): 14 байт;
* поле данных: 9000 байт;
* контрольная сумма (FCS): 4 байт.

Итого: 8 + 14 + 9000 + 4 = 9026 байт = 72 208 бит.

**Шаг 2. Учитываем скорость канала**

Расчёт обычно ведётся для стандартной скорости Ethernet — 1 Гбит/с = 10^9 бит/с.

**Шаг 3. Вычисляем задержку**

Подставляем значения в формулу:

Tпак = 72 208 / 10^9 = 0.0001125 с = 0.1125 мс = 112.5 мкс.

---

## 7. Почему нисходящая скорость технологии ADSL всегда выше восходящей?

Нисходящая скорость (download) в ADSL выше восходящей (upload) **из‑за неравномерного распределения полосы частот и изначального
замысла технологии**.

**1. Распределение частотных диапазонов**

ADSL делит доступную полосу частот телефонного кабеля на три части:
* **Восходящий канал (upstream)** — низкие частоты (26–138 кГц). Используется для отправки данных от пользователя в сеть.
* **Нисходящий канал (downstream)** — высокие частоты (138–1104 кГц). Используется для приёма данных из сети.
* **Телефонный разговор (POTS)** — самый низкий диапазон (0–4 кГц), чтобы не мешать обычной телефонии.

Под нисходящий поток выделяется **значительно более широкая полоса частот** — это напрямую позволяет передавать больше 
данных в единицу времени.

**2. Историческая цель технологии**

ADSL разрабатывалась для **асимметричного трафика**:
* пользователи чаще **скачивают** данные (веб‑страницы, видео, файлы) — нужен высокий download;
* объём **отправляемых** данных (запросы, команды) обычно мал — достаточно низкого upload.

**3. Физические причины**

* **Затухание сигнала** растёт с частотой. Высокие частоты (нисходящий канал) сильнее затухают на длинных линиях, но 
ADSL‑модемы компенсируют это сложными схемами модуляции и коррекции ошибок.
* На коротких линиях разница в скоростях может быть максимальной, на длинных — обе скорости снижаются, но асимметрия сохраняется.
* Низкие частоты (восходящий канал) затухают меньше, но их полоса изначально ограничена — это «жертва» ради широкой полосы вниз.

**4. Технические решения**

Используемые методы модуляции (например, DMT — Discrete Multi‑Tone) динамически:
* выделяют больше поднесущих частот для нисходящего потока;
* адаптируют скорость каждой поднесущей в зависимости от качества линии;
* резервируют часть ресурсов для коррекции ошибок и управления.

**Краткий итог**

Асимметрия скоростей в ADSL — **сознательный инженерный выбор**:
* широкая полоса частот вниз → высокая скорость скачивания;
* узкая полоса вверх → умеренная скорость отправки;
* совместимость с телефонной связью;
* оптимизация под типичные сценарии использования интернета.

Именно поэтому классическая ADSL всегда «быстрее вниз, чем вверх».

---

## 8. Поясните, каким образом можно повысить скорость технологии ADSL (выберите вариант ответа): </br> а) за счёт применения техники кодирования с большим числом состояний сигнала; </br> б) за счёт замены части абонентского медного окончания оптическим волокном; </br> в) за счёт уменьшения числа узлов домашней сети пользователя.

Ответ а), б)

**а) Применение техники кодирования с большим числом состояний сигнала**

Увеличение числа состояний сигнала (например, переход от QAM‑64 к QAM‑256) позволяет передавать больше бит за один символ.
Это повышает спектральную эффективность — в том же частотном диапазоне передаётся больше данных, что напрямую увеличивает
скорость ADSL.
* **Как работает:** каждая смена состояния сигнала кодирует не 1 бит, а несколько (например, 8 бит в QAM‑256).
* **Ограничение:** требует высокого качества линии и низкого уровня шума — при сильных помехах надёжность падает.

**б) Замена части абонентского медного окончания оптическим волокном**

Замена меди на оптоволокно на части пути (например, в рамках архитектуры FTTx — Fiber To The x) сокращает длину медного 
участка до абонента. Это даёт сразу несколько преимуществ:
* снижается затухание сигнала;
* уменьшается влияние электромагнитных помех;
* повышается общая пропускная способность канала;
* улучшаются параметры сигнала (SNR — отношение сигнал/шум), что позволяет модемам работать на более высоких модуляциях.

Пример: переход от классической ADSL к VDSL2 с FTTN (Fiber To The Node) или FTTC (Fiber To The Curb) резко повышает скорости.

**Почему не в) уменьшение числа узлов домашней сети пользователя?**

Этот вариант **не влияет на физическую скорость технологии ADSL** — он лишь может:
* снизить конкуренцию за полосу пропускания *внутри локальной сети* пользователя (если несколько устройств одновременно используют интернет);
* улучшить *ощущаемую* скорость на конкретном устройстве за счёт уменьшения нагрузки на Wi‑Fi или коммутатор;
* но *максимальная скорость ADSL‑линии* (между модемом и станцией) остаётся прежней — она определяется качеством линии и настройками DSLAM.

То есть это мера оптимизации использования уже имеющейся скорости, а не способ её повышения на уровне технологии.

**Краткий итог:**
* **а)** и **б)** — прямые способы повысить скорость ADSL: первый работает на уровне кодирования сигнала, второй — на уровне инфраструктуры.
* **в)** — влияет только на распределение скорости между устройствами дома, но не на саму скорость ADSL‑соединения.

---

## 9. Почему сети PON дешевле активных оптических сетей?

Ответ - потому что активные компоненты сети дороже пассивных

Сети PON (Passive Optical Network) дешевле активных оптических сетей **из‑за отсутствия активных компонентов на участке 
распределения сигнала** и более простой инфраструктуры.

**Почему PON дешевле:**
1. **Пассивные компоненты вместо активных.** В PON на участке от центрального узла до абонентов используются:
    * пассивные оптические разветвители (сплиттеры) — не требуют питания и обслуживания;
    * оптоволоконный кабель.

   В активных сетях на этом же участке нужны:
    * коммутаторы;
    * маршрутизаторы;
    * усилители сигнала — все они требуют питания, охлаждения, мониторинга.

2. **Меньшие затраты на энергопотребление.** Пассивные сплиттеры не потребляют электроэнергию. Активные устройства, напротив,
требуют стабильного питания и систем резервного энергоснабжения.

3. **Упрощённое обслуживание и надёжность.** Пассивные компоненты:
    * не выходят из строя из‑за сбоев питания;
    * устойчивы к внешним воздействиям (грозы, перепады напряжения);
    * практически не требуют техобслуживания (не нужно обновлять ПО, настраивать, мониторить).

4. **Сокращение затрат на инфраструктуру.** Архитектура PON (точка‑многоточка, *Point‑to‑Multipoint*) позволяет:
    * одному оптическому волокну от центрального офиса обслуживать десятки абонентов (через сплиттеры);
    * существенно сократить протяжённость кабельной трассы и количество активного оборудования на стороне провайдера.

5. **Снижение капитальных затрат (CAPEX).** При строительстве сети:
    * меньше оборудования для закупки и установки;
    * проще монтаж (не нужны шкафы, ИБП, системы охлаждения для промежуточных узлов);
    * меньше точек отказа — выше общая надёжность сети.

6. **Уменьшение операционных расходов (OPEX).** В процессе эксплуатации:
    * нет затрат на ремонт и замену активных устройств в «полевых» условиях;
    * ниже счета за электроэнергию;
    * упрощённый мониторинг (контролируется только конечное оборудование у провайдера и абонентов).

**Сравнение вкратце**

| Параметр | PON (пассивная) | Активная оптическая сеть |
|--------|----------------|-----------------------|
| Компоненты на участке распределения | Сплиттеры (пассивные) | Коммутаторы/маршрутизаторы (активные) |
| Питание | Не требуется | Требуется |
| Обслуживание | Минимальное | Регулярное (ПО, настройки, ремонт) |
| Надёжность | Высокая (меньше точек отказа) | Ниже (зависит от работы оборудования) |
| Стоимость развёртывания | Ниже | Выше |
| Эксплуатационные расходы | Низкие | Высокие |

**Краткий итог:** PON дешевле, потому что заменяет дорогостоящие и энергозатратные активные устройства простыми и надёжными
пассивными элементами, сокращая как начальные затраты на строительство, так и долгосрочные расходы на поддержку сети.

---

## 10. Какой метод мультиплексирования применяется в технологии PON?

Ответ WDM

В технологии PON применяется **WDM (Wavelength Division Multiplexing — спектральное уплотнение каналов)**, дополненный 
**TDM (Time Division Multiplexing — временное разделение каналов)**.

**1. WDM в PON**

WDM разделяет нисходящий и восходящий потоки данных по **разным длинам волн**:
* **Нисходящий поток** (downstream, от центрального узла OLT(Optical Line Terminal) к абонентам ONT(Optical Network Terminal)):
обычно на длине волны 149 нм (для данных) или 1550 нм (если передаётся ТВ‑сигнал).
* **Восходящий поток** (upstream, от абонентов ONT к OLT): на длине волны 1310 нм.

Это позволяет:
* передавать данные в обоих направлениях по одному оптическому волокну;
* избежать взаимных помех между входящим и исходящим трафиком.

**2. TDM в PON**

TDM дополняет WDM и используется для **разделения трафика между разными абонентами** в рамках одного волокна:
* В **нисходящем потоке** OLT (Optical Line Terminal) отправляет данные всем ONT (Optical Network Terminal), но каждый
абонент принимает только пакеты со своим идентификатором.
* В **восходящем потоке** ONT передают данные по очереди, согласно расписанию, назначенному OLT. Это предотвращает коллизии,
когда два абонента пытаются отправить данные одновременно.

**Как это работает вместе в PON:**
1. **Передача вниз (downstream):**
    * OLT отправляет общий поток данных на длине волны 1490 нм.
    * Пассивный сплиттер делит сигнал на несколько волокон (к абонентам).
    * Каждый ONT отфильтровывает только свои данные.

2. **Передача вверх (upstream):**
    * ONT передают данные на длине волны 1310 нм, но **в разные временные слоты** (TDM).
    * OLT управляет очередностью передачи, чтобы избежать наложения сигналов.

3. **Разделение сигналов по длине волны** (WDM) гарантирует, что нисходящие и восходящие потоки не мешают друг другу.

**Краткий итог:**
* **Основной метод мультиплексирования в PON — WDM**, он разделяет направления передачи (вниз/вверх) по длинам волн.
* **TDM используется как дополнительный метод** для разделения трафика между абонентами в восходящем и нисходящем потоках.
* Комбинация WDM + TDM обеспечивает:
    * полнодуплексную связь по одному волокну;
    * эффективное использование пропускной способности;
    * подключение десятков абонентов к одному порту OLT.

---

## 11. Какой алгоритм доступа применяется в технологии PON?

Ответ - с центральным арбитром

В технологии PON применяется **алгоритм доступа с центральным арбитром** (центральным управляющим устройством).

**Что это значит**

«Центральный арбитр» — это **OLT (Optical Line Terminal)**, устройство на стороне провайдера. Оно:
* управляет доступом всех абонентских устройств (ONT/ONU) к общему каналу;
* предотвращает коллизии при одновременной передаче данных от разных абонентов;
* динамически распределяет полосу пропускания между абонентами.

**Как это работает**
1. **Нисходящий поток (downstream)**:
    * OLT передаёт данные **широковещательно** (broadcast) всем ONT через пассивный сплиттер;
    * каждый ONT отфильтровывает только пакеты, адресованные ему.

2. **Восходящий поток (upstream)** — здесь критически важен алгоритм с арбитром:
    * все ONT подключены к одному волокну и потенциально могут мешать друг другу;
    * ONT не передают данные самостоятельно, а **ждут разрешения от OLT**;
    * OLT по расписанию выделяет каждому ONT **временные слоты** для передачи (TDMA — Time Division Multiple Access);
    * в выделенном слоте ONT отправляет свои данные, затем ждёт следующего разрешения.

**Механизм распределения ресурсов (DBRu — Dynamic Bandwidth Report)**

OLT использует динамическое управление полосой пропускания:
* ONT сообщают OLT о размере очереди данных, ожидающих отправки;
* OLT анализирует запросы от всех ONT и составляет расписание передачи;
* полоса пропускания распределяется с учётом приоритетов и соглашений SLA;
* расписание передаётся ONT, которые строго следуют ему при отправке данных.

**Почему именно такой алгоритм**

Архитектура PON (точка‑многоточка) требует централизованного управления, потому что:
* пассивные сплиттеры **не могут разрешать коллизии** — они просто делят сигнал;
* без арбитра все ONT, передающие одновременно, создадут **наложение сигналов** и потерю данных;
* централизованный контроль позволяет **оптимизировать использование канала** и гарантировать QoS для разных типов трафика (голос, видео, данные).

**Краткий итог**

* **Алгоритм доступа:** с центральным арбитром (OLT).
* **Технология доступа в восходящем потоке:** TDMA (временное разделение каналов).
* **Ключевая роль OLT:**
    * арбитр, предотвращающий коллизии;
    * диспетчер полосы пропускания;
    * координатор временных слотов для ONT.
* **Результат:** надёжная работа десятков абонентов на одном волокне без взаимных помех.

---

## 12. Перечислите функциональные модули IP-маршрутизатора, которые используются в LSR.

В **LSR (Label Switch Router — маршрутизатор с коммутацией по меткам)**, используемом в технологии **MPLS** (Multiprotocol Label Switching),
задействуются следующие функциональные модули IP‑маршрутизатора:

### Основные модули и их роль
1. **Модуль управления (Control Plane)**
    * отвечает за построение таблиц маршрутизации;
    * взаимодействует с протоколами маршрутизации (OSPF, IS‑IS, BGP) для сбора информации о топологии сети;
    * управляет протоколами распределения меток (LDP, RSVP‑TE): назначает и распространяет метки между LSR;
    * формирует таблицу FIB (Forwarding Information Base) и таблицу LFIB (Label Forwarding Information Base).

2. **Модуль коммутации/пересылки (Data Plane / Forwarding Plane)**
    * выполняет фактическую пересылку пакетов на основе меток;
    * считывает метку в заголовке MPLS;
    * по таблице LFIB определяет:
        * какую операцию выполнить с меткой (заменить, снять, добавить);
        * на какой выходной интерфейс отправить пакет;
    * обеспечивает быструю обработку пакетов без полного анализа IP‑заголовка.

3. **Таблица LFIB (Label Forwarding Information Base)**
    * специализированная таблица пересылки для MPLS‑трафика;
    * содержит правила обработки меток:
        * **Swap** (заменить метку) — для транзитных LSR;
        * **Push** (добавить метку) — когда пакет входит в MPLS‑сеть;
        * **Pop** (удалить метку) — когда пакет покидает MPLS‑сеть (на egress LSR);
    * работает быстрее, чем полная IP‑маршрутизация, за счёт упрощённой логики.

4. **Интерфейсы ввода‑вывода (I/O Interfaces)**
    * обеспечивают физическое подключение к сети (Ethernet, POS, SONET/SDH и т.д.);
    * принимают и передают пакеты;
    * поддерживают инкапсуляцию MPLS (добавление/удаление MPLS‑заголовка).

5. **Механизм QoS (Quality of Service)**
    * классифицирует трафик по классам обслуживания;
    * назначает приоритеты пересылки;
    * может использовать поле **EXP** (Experimental) в MPLS‑заголовке для маркировки приоритетов;
    * гарантирует требуемое качество обслуживания для разных типов трафика (голос, видео, данные).

6. **Модуль обработки MPLS‑заголовков**
    * добавляет MPLS‑заголовок (стек меток) к IP‑пакету при входе в сеть (ingress LSR);
    * заменяет метку на транзитных узлах (транзитный LSR);
    * удаляет MPLS‑заголовок перед выходом из сети (egress LSR).

### Краткий итог: как это работает вместе
1. **Control Plane** строит маршруты и распределяет метки.
2. На основе этой информации заполняется **LFIB**.
3. При поступлении пакета **I/O интерфейсы** передают его в **Data Plane**.
4. **Модуль обработки MPLS‑заголовков** считывает текущую метку.
5. **Data Plane** сверяется с **LFIB** и выполняет нужную операцию (Swap/Push/Pop).
6. Пакет отправляется через нужный интерфейс с учётом **QoS**.

**Ключевое отличие LSR от обычного IP‑маршрутизатора:** основная пересылка идёт не по IP‑адресам, а по **меткам MPLS** — это
ускоряет обработку трафика и позволяет гибко управлять потоками (трафик‑инжиниринг, VPN).

---

## 13. Предположим, что LSR использует формат кадров Ethernet. Означает ли это, что LSR продвигает кадры на основе таблицы продвижения, полученной в соответствии со стандартом IEEE 802.1D?  

Ответ нет

LSR (Label Switch Router) работает в рамках технологии **MPLS** и использует принципиально иной механизм пересылки 
пакетов — **коммутацию по меткам** (label switching), а не коммутацию Ethernet‑кадров по MAC‑адресам. Разберу подробнее:

**1. Разная логика работы**
* **Коммутатор Ethernet** (по IEEE 802.1D):
    * анализирует **MAC‑адрес назначения** в кадре Ethernet;
    * ищет этот адрес в **таблице MAC‑адресов** (FDB — Forwarding Database);
    * пересылает кадр через порт, указанный в таблице;
    * строит таблицу MAC‑адресов динамически через обучение (изучает, с какого порта пришёл кадр от определённого MAC).
* **LSR в MPLS**:
    * анализирует **метку MPLS** (label) в заголовке пакета;
    * сверяется с **таблицей LFIB** (Label Forwarding Information Base);
    * выполняет операцию с меткой: **Swap** (заменить), **Push** (добавить), **Pop** (удалить);
    * отправляет пакет через выходной интерфейс, указанный в LFIB.

**2. Разные таблицы пересылки**
* IEEE 802.1D → таблица MAC‑адресов (FDB).
* MPLS (LSR) → таблица LFIB (содержит правила обработки меток и выходные интерфейсы).

**3. Разный уровень обработки**
* Коммутатор Ethernet работает на **канальном уровне (L2)**.
* LSR работает на **уровне между L2 и L3** (использует MPLS‑заголовок между канальным и сетевым уровнями). Он не анализирует
полный IP‑заголовок (как маршрутизатор L3), но и не опирается на MAC‑адреса для принятия решения о пересылке.

**4. Разные цели**
* Ethernet (IEEE 802.1D) — коммутация в локальных сетях на основе MAC.
* MPLS (LSR) — быстрая пересылка трафика через магистральную сеть с поддержкой QoS, VPN, трафик‑инжиниринга.

**Практический пример**

Предположим, LSR получает Ethernet‑кадр с MPLS‑пакетом внутри:
1. LSR считывает **метку MPLS**, а не MAC‑адрес назначения.
2. По таблице **LFIB** определяет: заменить метку на новую и отправить через порт 3.
3. MAC‑адрес назначения остаётся неизменным — он нужен только для доставки кадра до следующего LSR на канальном уровне,
но не влияет на решение о маршрутизации метки.

То есть формат Ethernet — это лишь **инкапсуляция** на физическом/канальном уровне. Механизм пересылки (коммутация по меткам)
определяется **логикой MPLS**, а не правилами Ethernet.

**Краткий итог**
* **Формат кадра** (Ethernet) задаёт способ упаковки данных для передачи по каналу.
* **Механизм пересылки** (MPLS) задаёт логику принятия решений: LSR использует **LFIB и метки**, а не таблицу MAC‑адресов IEEE 802.1D.
* Поэтому ответ **«нет»**: использование Ethernet не заставляет LSR работать как коммутатор L2.

---

## 14. Протокол LDP является частью технологии (выберите вариант ответа): </br> а) MPLS IGP; </br> б) MPLS TE.

Ответ а)

**LDP (Label Distribution Protocol)** — протокол распределения меток в технологии **MPLS** (Multiprotocol Label Switching).
Его основная задача — автоматически обмениваться метками (label) между маршрутизаторами (LSR), чтобы построить пути коммутации
меток (LSP — Label Switched Path).

**1. MPLS + IGP**
* **IGP (Interior Gateway Protocol)** — протоколы внутренней маршрутизации (OSPF, IS‑IS). Они строят карту сети: определяют,
куда идти трафику на основе IP‑адресов.
* **LDP использует информацию от IGP**: берёт IP‑маршруты, полученные через OSPF/IS‑IS, и для них автоматически назначает MPLS‑метки.
* Результат: сквозной LSP создаётся **автоматически**, без ручной настройки. Это базовый режим работы MPLS для обычной пересылки трафика.

**2. Почему не б) MPLS TE**

**MPLS TE (Traffic Engineering — трафик‑инжиниринг)** решает другую задачу: строит LSP **с учётом ограничений** (пропускная
способность, задержка, приоритет), а не просто по кратчайшему пути IGP. Для этого чаще используют:
* **RSVP‑TE** (Resource Reservation Protocol with Traffic Engineering extensions) — основной протокол для MPLS TE. Он резервирует
ресурсы и явно задаёт маршрут (explicit routing).
* LDP **не поддерживает** резервирование ресурсов и сложные ограничения — он просто «накладывает» метки на существующие IP‑маршруты.

**Сравнение вкратце**

| Параметр | MPLS + LDP (IGP) | MPLS TE |
|--------|------------------|--------|
| **Цель** | Автоматическая коммутация по меткам на основе IGP‑маршрутов | Управление потоками, обход перегрузок, резервирование ресурсов |
| **Протокол меток** | LDP | RSVP‑TE (чаще всего), иногда расширенный LDP |
| **Маршрут LSP** | По кратчайшему пути (как в IGP) | Явно заданный или оптимизированный (может отличаться от IGP) |
| **Резервирование** | Нет | Да (полоса пропускания, QoS) |
| **Сложность** | Низкая (настройка почти не требуется) | Высокая (нужна детальная конфигурация) |

**Краткий итог**
* LDP — часть **базовой MPLS с IGP**: он автоматизирует распределение меток для IP‑маршрутов.
* Для **MPLS TE** нужен другой инструмент — RSVP‑TE, который даёт больше контроля над путями трафика.

---

## 15. Можно ли в сети, поддерживающей MPLS, передавать часть трафика с помощью обычного IP-продвижения?

Ответ да

**Объяснение**

MPLS и IP‑маршрутизация могут сосуществовать в одной сети — это обеспечивается архитектурой MPLS.

**1. Гибкость архитектуры MPLS**

В MPLS‑сети маршрутизаторы делятся на два типа:
* **LSR (Label Switching Router)** — коммутируют пакеты по меткам MPLS;
* **обычные IP‑маршрутизаторы** — обрабатывают пакеты по IP‑адресам без учёта меток.

Часть устройств или участков сети может работать в режиме MPLS, другая — в режиме классической IP‑маршрутизации.

**2. Граничные маршрутизаторы (LER)**

Ключевые узлы — **LER (Label Edge Router)**:
* при входе в MPLS‑сеть LER может **добавить метку** (если трафик должен идти через MPLS);
* либо **не добавлять метку** — тогда пакет будет маршрутизироваться по обычным IP‑правилам.

**3. Условия выбора способа продвижения**

Решение о применении MPLS или IP принимается на основе настроек:
* **политика маршрутизации** (например, приоритетный трафик идёт через MPLS LSP, остальной — через IP);
* **отсутствие настроенного LSP** для определённого адресата — пакет отправляется по IP;
* **настройки FIB/LFIB** — если в таблице меток (LFIB) нет записи для префикса, используется таблица IP‑маршрутизации (FIB).

**4. Практические сценарии**

* **гибридная сеть**: часть трафика (голос, видео, VPN) идёт через оптимизированные LSP MPLS с QoS; остальной 
(обычный веб‑трафик) — по стандартным IP‑маршрутам;
* **постепенный переход** на MPLS: сначала включают MPLS на ключевых участках, остальные работают по IP;
* **резервный маршрут**: если LSP недоступен, трафик автоматически переключается на IP‑маршрут;
* **разные клиенты**: для одних услуг (MPLS VPN) используется коммутация по меткам, для других (публичный интернет) — IP.

**5. Механизм на уровне пакетов**

* если пакет **имеет метку MPLS**, LSR пересылает его по правилам LFIB (Swap/Push/Pop);
* если пакет **не имеет метки**, LSR обрабатывает его как обычный IP‑пакет — ищет маршрут в FIB и пересылает по IP.

**Краткий итог**

Сеть с MPLS остаётся совместимой с IP‑маршрутизацией:
* трафик, для которого настроены LSP, идёт с метками MPLS (быстрее, с QoS, VPN и т.д.);
* остальной трафик маршрутизируется стандартно по IP‑адресам.

Это обеспечивает:
* гибкость управления потоками;
* плавный переход на MPLS без замены всей инфраструктуры;
* оптимальное использование ресурсов сети.

---

## 16. Технология MPLS является гибридом технологий (выберите вариант ответа): </br> а) IP и IPX; </br> б) IP и OSPF; </br> в) IP и технологии виртуальных каналов.

Ответ в)

MPLS (Multiprotocol Label Switching) объединяет ключевые черты двух технологий:
1. **IP‑маршрутизация (сетевой уровень, L3):**
    * использует IP‑адресацию для определения конечных точек трафика;
    * опирается на протоколы маршрутизации (OSPF, IS‑IS, BGP) для построения топологии сети;
    * сохраняет совместимость с существующей IP‑инфраструктурой — пакеты входят и выходят из MPLS‑сети как обычные IP‑пакеты.

2. **Технологии виртуальных каналов (канальный уровень, L2 — например, ATM, Frame Relay):**
    * создаёт **сквозные пути** для трафика — LSP (Label Switched Path), аналогичные виртуальным каналам;
    * пересылает пакеты на основе **меток** (label), а не полного анализа IP‑заголовка — аналогично использованию идентификаторов
   виртуальных каналов (VCI/VPI в ATM);
    * обеспечивает **гарантированные параметры** для потоков: QoS, резервирование полосы, управление трафиком — как в классических
   сетях с коммутацией каналов.

**Почему не другие варианты?**
* **а) IP и IPX** — неверный вариант:
    * **IPX** (Internetwork Packet Exchange) — устаревший протокол компании Novell, не имеющий отношения к MPLS;
    * MPLS не использует и не опирается на IPX ни на каком уровне.

* **б) IP и OSPF** — неверный вариант:
    * **OSPF** (Open Shortest Path First) — это лишь один из протоколов внутренней маршрутизации (IGP), который может 
  использоваться *внутри* IP‑части MPLS для построения таблиц маршрутов;
    * OSPF — не отдельная технология коммутации или передачи данных, а инструмент маршрутизации;
    * выбор OSPF не отражает сути гибридной природы MPLS.

**Краткий итог**

MPLS действительно является гибридом:
* берёт от **IP** гибкость, масштабируемость и совместимость с интернет‑протоколами;
* заимствует у **технологий виртуальных каналов** (ATM/Frame Relay) идею предопределённых путей и быструю коммутацию по
меткам вместо полной маршрутизации на каждом узле.

Это позволяет:
* ускорять пересылку пакетов (коммутация по меткам быстрее полной IP‑маршрутизации);
* управлять трафиком (трафик‑инжиниринг);
* строить VPN и гарантировать качество обслуживания (QoS).

---

## 17. Какие функциональные модули IP-маршрутизатора используются в LSR (выберите вариант ответа): </br> а) блок продвижения; </br> б) блок протоколов маршрутизации; </br> в) блок протоколов канального уровня.

Ответ б), в)

**1. Блок протоколов маршрутизации (б)**
* Отвечает за построение таблиц маршрутизации с помощью протоколов IGP (OSPF, IS‑IS) и BGP.
* В контексте LSR (Label Switch Router) критически важен:
    * собирает информацию о топологии сети;
    * определяет IP‑маршруты, на основе которых строятся пути MPLS (LSP — Label Switched Path);
    * взаимодействует с протоколом распределения меток (например, LDP или RSVP‑TE) для назначения и обмена метками MPLS между LSR.
* Без этого блока LSR не сможет понять, куда направлять трафик и как формировать LSP.

**2. Блок протоколов канального уровня (в)**
* Обеспечивает взаимодействие с физическими каналами связи (Ethernet, PPP, SONET/SDH и т.д.).
* Выполняет ключевые функции для работы LSR:
    * инкапсуляцию и декапсуляцию пакетов (добавление/удаление канальных заголовков);
    * передачу кадров через физические интерфейсы;
    * работу с MAC‑адресами (для Ethernet) при доставке кадров до следующего узла;
    * поддержку форматов кадров, в которых передаются MPLS‑пакеты.
* LSR должен корректно взаимодействовать с канальным уровнем, чтобы принимать и отправлять пакеты по сети.

**Почему не «а) блок продвижения»?**
* Термин «блок продвижения» (forwarding engine) обычно описывает механизм быстрой пересылки пакетов — например, по таблице
MAC‑адресов в коммутаторах Ethernet (согласно IEEE 802.1D).
* В LSR пересылка работает иначе — **не по MAC‑адресам, а по меткам MPLS** с использованием таблицы **LFIB** (Label Forwarding Information Base).
* Логика пересылки в LSR:
    * считывание метки MPLS из заголовка;
    * выполнение операции с меткой (Swap/Push/Pop) согласно правилам в LFIB;
    * отправка пакета через указанный интерфейс.
* Это принципиально отличается от классической «продвижения» кадров в Ethernet‑коммутаторах. Поэтому стандартный «блок продвижения»
канального уровня здесь не является определяющим модулем.

**Краткий итог**

В LSR используются:
* **Блок протоколов маршрутизации (б)** — для построения маршрутов и распределения меток MPLS.
* **Блок протоколов канального уровня (в)** — для передачи пакетов по физическим каналам и работы с кадрами.

А «блок продвижения» (а) не подходит, так как LSR оперирует метками MPLS и таблицей LFIB, а не классической коммутацией по MAC‑адресам.

---

## 18. Класс эквивалентности продвижения — это (выберите вариант ответа): </br> а) набор путей LSP с равными метриками; </br> б) набор путей к одному и тому же выходному LER; </br> в) группа IP-пакетов, имеющих одни и те же требования к условиям транспортировки.

Ответ в)

**Класс эквивалентности продвижения (FEC — Forwarding Equivalence Class)** в технологии MPLS — это группа пакетов, которые:
* обрабатываются **одинаково** на пути следования к пункту назначения;
* получают **одну и ту же метку MPLS** при входе в сеть (присваивается LER — Label Edge Router);
* пересылаются по **одному и тому же пути (LSP — Label Switched Path)** с соблюдением заданных параметров.

**На основе чего формируются FEC:**
* IP‑адрес назначения (или префикс сети);
* тип обслуживания (ToS/DSCP — для QoS);
* порт источника/назначения;
* комбинация IP‑адресов и портов;
* принадлежность к VPN и т.д.

**Пример:** все пакеты с адресом назначения из подсети 192.168.1.0/24 и приоритетом «голос» могут быть отнесены к одному
FEC и получать одинаковую обработку (низкую задержку, высокую пропускную способность).

**Почему не подходят другие варианты:**
* **а) набор путей LSP с равными метриками** — неверно:
    * FEC относится к **группам пакетов**, а не к путям передачи;
    * один FEC обычно соответствует **одному LSP**, а не набору путей.

* **б) набор путей к одному и тому же выходному LER** — неверно:
    * FEC определяет **правила обработки трафика**, а не топологию маршрутов;
    * пакеты одного FEC могут идти к одному LER, но это следствие классификации, а не её суть;
    * разные FEC могут использовать один LER как выход, но обрабатываться будут по‑разному.

**Краткий итог**

FEC позволяет сети MPLS:
* группировать трафик по общим требованиям (QoS, VPN, задержка и т.д.);
* присваивать группе единую метку;
* обеспечивать единообразную пересылку всех пакетов FEC через LSP.

Это ускоряет обработку и даёт возможность гибко управлять потоками (трафик‑инжиниринг, VPN, гарантии качества).

---

## 19. Какой из вариантов управления распределением меток протоколом LDP называется упорядоченным: </br> а) метка назначается по запросу от вышележащего устройства LSR; </br> б) метка не назначается устройством LSR до тех пор, пока оно не получит метку от нижележащего устройства; </br> в) метка назначается администратором сети.

Ответ б)

**Упорядоченный режим (Ordered Control Mode)** в протоколе LDP — это способ распределения меток, при котором LSR действует
**по цепочке**, строго соблюдая последовательность:
1. **LSR не назначает метку** для определённого FEC (класса эквивалентности продвижения) сразу.
2. Сначала он **ждёт метку от нижележащего (downstream) LSR** — того, который находится ближе к получателю трафика.
3. Как только LSR получает метку от соседа ниже по потоку, он:
    * присваивает собственную метку для этого FEC;
    * сообщает её **вышележащему (upstream) LSR** (тому, что находится ближе к отправителю).
4. Процесс идёт **поэтапно** от выхода сети к входу:
    * egress LSR (последний маршрутизатор перед получателем) первым получает/назначает метку;
    * затем следующий LSR вверх по потоку получает от него метку и передаёт дальше;
    * цепочка продолжается до ingress LSR (первого маршрутизатора в MPLS‑сети).

**Почему не другие варианты:**
* **а) метка назначается по запросу от вышележащего устройства LSR** — это описывает **режим по запросу (Downstream‑on‑Demand)**,
а не упорядоченный контроль. Здесь LSR выдаёт метку *только после запроса* от соседа, но не обязательно ждёт метку от downstream‑устройства.
* **в) метка назначается администратором сети** — относится к **статическому распределению меток**, полностью ручному процессу.
В LDP используется автоматическое распределение, а не ручная настройка.

**Краткий итог**

**Упорядоченный режим (ответ б)** гарантирует, что:
* метки назначаются **в правильной последовательности** — от конца пути (egress) к началу (ingress);
* каждый LSR знает, куда пересылать трафик, *прежде чем* начать использовать метку;
* строится **целостный LSP (Label Switched Path)** без разрывов;
* снижается риск ошибок маршрутизации из‑за «неполных» путей.

Этот режим особенно важен в MPLS для надёжного создания сквозных путей коммутации по меткам.

---

## 20. Поясните, зачем в сообщении Echo Request протокола LSP Ping в качестве IP-адреса назначения применяется адрес 127.0.0.1 (выберите вариант ответа): </br> а) для тестирования стека протоколов TCP/IP каждого промежуточного LSR; </br> б) этот адрес выбран произвольно, как не имеющий значения, потому что сообщение передаётся на основе меток MPLS; </br> в) для передачи сообщения стеку протоколов TCP/IP узла, после которого путь повреждён.

Ответ в)

**LSP Ping** — диагностический механизм в MPLS для проверки целостности пути коммутации меток (LSP). **Echo Request** — 
специальное сообщение, которое отправляется вдоль LSP для проверки его работоспособности.

**Зачем нужен адрес 127.0.0.1?**
1. **Адрес 127.0.0.1** относится к **loopback‑адресам** (диапазон 127.0.0.0/8), которые всегда обрабатываются **локально**
на устройстве — пакет с таким адресом никогда не отправляется в сеть.
2. Сообщение Echo Request с адресом назначения 127.0.0.1 **передаётся по LSP** (с использованием меток MPLS) до определённого узла.
3. Когда пакет достигает **целевого маршрутизатора** (или первого неисправного узла на пути), устройство:
    * распознаёт, что адрес назначения — локальный (127.0.0.1);
    * обрабатывает пакет **собственным стеком TCP/IP** (не пересылает дальше);
    * формирует и отправляет обратно **Echo Reply** (ответ) — обычно по тому же LSP или через IP‑управление.
4. Если **путь повреждён**, пакет с 127.0.0.1 не доходит до целевого LSR — **Echo Reply не приходит**. Это позволяет точно определить:
    * где обрывается LSP;
    * какой узел не отвечает;
    * на каком участке возникла проблема.

**Почему не другие варианты:**
* **а) для тестирования стека протоколов TCP/IP каждого промежуточного LSR** — неверно:
    * Echo Request проходит через промежуточные LSR **на уровне MPLS** (по меткам), не затрагивая их IP‑стек;
    * только **последний узел** (или неисправный) обрабатывает пакет локально — остальные просто коммутируют по метке.
* **б) этот адрес выбран произвольно, как не имеющий значения, потому что сообщение передаётся на основе меток MPLS** — неверно:
    * выбор 127.0.0.1 **не случаен** — он гарантирует, что пакет обработает именно целевой узел (или первый неисправный);
    * если бы использовался обычный IP‑адрес, пакет мог бы быть переслан дальше или обработан иначе, что нарушило бы логику диагностики.

**Краткий итог**

Использование адреса **127.0.0.1** в Echo Request:
* позволяет «заставить» целевой или неисправный LSR обработать пакет локально и отправить Echo Reply;
* точно локализует место обрыва LSP (если ответа нет — проблема до этого узла);
* обеспечивает диагностику MPLS‑пути без влияния на обычный трафик.

---

## 21. Протокол BFD отличается от протокола LSP Ping следующими свойствами (выберите вариант ответа): </br> а) он не может тестировать двусторонние пути; </br> б) он проще в реализации; </br> в) он не может локализовывать неисправности.

Ответ б), в)

**б) Проще в реализации**

Протокол **BFD (Bidirectional Forwarding Detection)** специально спроектирован как **лёгкий и быстрый** механизм обнаружения сбоев:
* имеет **минимальный набор функций** — только проверка доступности соседа и измерение времени отклика;
* использует **простой формат сообщений** (Hello‑пакеты), не требует сложной логики обработки;
* работает **напрямую поверх канального уровня** (или UDP), без сложной инкапсуляции;
* реализует **частые проверки** с интервалом в миллисекунды, что достигается за счёт простоты пакета и обработки;
* легко интегрируется с разными протоколами маршрутизации (OSPF, BGP, IS‑IS) и технологиями (MPLS).

**в) Не может локализовывать неисправности**

BFD **проверяет только доступность соседнего узла** (соседства, adjacency):
* если BFD‑сессия «падает», известно лишь, что **связь с непосредственным соседом потеряна** — но не где именно произошла проблема на всём пути;
* не предоставляет данных о **промежуточных узлах** или участках сети;
* не определяет, **какой именно LSP** (путь коммутации меток в MPLS) повреждён, если их несколько между двумя узлами;
* фиксирует факт сбоя, но **не локализует место неисправности** вдоль сквозного пути.

### Почему не подходит вариант а)
**а) Он не может тестировать двусторонние пути** — **неверно**, это прямо противоречит назначению BFD:
* **BFD изначально разработан для двусторонней (bidirectional) проверки** связи между двумя соседними узлами;
* механизм работы: узлы регулярно обмениваются **Hello‑сообщениями** в обе стороны;
* если в течение заданного времени (множественных интервалов) сообщения не приходят, сессия считается разорванной;
* это позволяет **быстро обнаруживать двусторонние сбои** (например, обрыв кабеля, отказ интерфейса, зависание оборудования).

### Краткий итог: сравнение BFD и LSP Ping

| Свойство | BFD | LSP Ping                                                              |
|--------|---------|-----------------------------------------------------------------------|
| **Цель** | Быстрое обнаружение сбоя соседства | Диагностика и локализация проблем в LSP (MPLS)                        |
| **Сложность** | Простой протокол, лёгкая реализация | Более сложный (инкапсуляция, анализ меток, эхо‑ответы)                |
| **Локализация** | Только соседний узел (не локализует дальше) | Точное определение места обрыва LSP (по ответу/отсутствию Echo Reply) |
| **Скорость** | Обнаружение за миллисекунды | Более медленная диагностика (по запросу)                              |
| **Область проверки** | Двусторонний канал «точка‑точка» между соседями | Сквозной путь LSP (может включать множество узлов)                    |

Таким образом, **BFD проще в реализации (б)**, но **не локализует неисправности (в)** — в отличие от LSP Ping, который 
как раз предназначен для точной диагностики и поиска места сбоя в MPLS‑сети.

---

## 22. Какой механизм отказоустойчивости MPLS является более универсальным (выберите вариант ответа): </br> а) защита линии; </br> б) защита пути.

Ответ б)

**1. Защита линии (Link Protection, вариант а)**
* Обеспечивает резервирование **на уровне отдельного канала/линии связи** между двумя соседними узлами.
* Если линия выходит из строя, трафик мгновенно переключается на **резервную линию** между теми же двумя узлами.
* **Ограничения:**
    * защищает только от отказа конкретной линии;
    * не помогает при сбое целого узла (маршрутизатора) — если один из LSR выходит из строя, защита линии не сработает;
    * действует локально: охватывает только один участок LSP.

**2. Защита пути (Path Protection, вариант б)**
* Обеспечивает резервирование **всего сквозного пути (LSP — Label Switched Path)** от отправителя до получателя.
* Для основного LSP заранее создаётся **резервный LSP** (backup LSP), который проходит по альтернативному маршруту — через другие узлы и линии.
* При любом сбое на основном пути (отказ линии, отказ узла, перегрузка канала и т.д.) трафик переключается на резервный LSP.
* **Преимущества:**
    * реагирует на **разные типы отказов**: линия, узел, перегрузка;
    * охватывает **весь путь целиком**, а не отдельный участок;
    * позволяет строить резервные маршруты с учётом QoS, пропускной способности и других параметров;
    * подходит для сложных топологий и многоуровневых сетей.

**Сравнение вкратце**

| Параметр | Защита линии | Защита пути |
|--------|------------|------------|
| **Что защищает** | Отдельный канал между соседними узлами | Весь LSP от начала до конца |
| **От каких сбоев** | Только отказ линии | Отказ линии, узла, перегрузка и др. |
| **Охват** | Локальный (один участок) | Сквозной (весь маршрут) |
| **Универсальность** | Низкая (узкая специализация) | Высокая (широкий спектр сценариев) |
| **Сложность** | Проще настроить | Требует планирования резервных LSP |

**Краткий итог**

**Защита пути (б)** является более универсальным механизмом отказоустойчивости в MPLS, потому что:
* защищает от **большего числа типов сбоев** (не только линии, но и узлов);
* охватывает **весь сквозной маршрут**, а не один участок;
* даёт возможность гибко настраивать **резервные пути** с нужными характеристиками (QoS, пропускная способность);
* обеспечивает высокую доступность сервиса в сложных сетях.

**Защита линии (а)** полезна как быстрая локальная мера, но не заменяет защиту всего пути.

---